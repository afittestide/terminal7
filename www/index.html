<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no" />
  <title>Terminal 7</title>
  <script src="terminal7.bundle.js"></script>
</head>
<body>
  <div id="terminal7">
      <div id="log" class="border">
          <ul id="log-msgs">
          </ul>
      </div>
      <div id="home">
          <h1>Welcome to Terminal 7 </h1>
          <div id="version" target="_blank">
              <a href="https://github.com/tuzig/terminal7/blob/master/CHANGELOG.md">
                  version 0.14.2
              </a>
          </div>
          <h2>Please choose your destination:</h2>
          <div id="hosts-wrapper"><ul id="hosts">
              <li id="plus-host" class="border">
                  <a> <i class="f7-icons">plus</i></a>
              </li>
          </ul></div>
      </div>
      <div id="add-host" class="hidden modal border" >
          <form>
            <h2>Add a Host</h2>
            <label for="uname">Address</label>
            <input type="text" placeholder="IP or host name" name="hostaddr"
                required="required">
            <label for="uname">Name</label>
            <input type="text" placeholder="Enter Hostname" name="hostname"
                required="required">
            <input type="checkbox" checked="checked" name="remember">
            <label for="remember">Remember host</label>
            <nav class="two-buttons">
                <button type="button" class="close">
                    <i class="f7-icons close">xmark</i>
                </button>
                <button type="submit">
                    <i class="f7-icons submit">phone_arrow_up_right</i>
                </button>
            </nav>
          </form>
      </div>
      <div id="copy-fingerprint" class="hidden modal border" >
        <form>
            <p>We're sorry, but the host at <code id="ct-address"> </code>
            (aka <b id="ct-name"></b>) refused our fingerprint.
                Most likely because the fingerprint is not in:
                <b id="ct-confile"> ~/.webexec/authorized_tokens</b>
            </p>
            <input type="text" name="fingerprint" readonly
                style="width: 25em; margin: 8px auto;">
            <p>To proceed, you can either copy the fingerprint using another
                terminal or we can use ssh to take care of that for you:
            </p>
            <label for="uname">Username</label>
            <input type="text" placeholder="your system username" name="uname" required>
            <label for="pass">Password</label>
            <input type="password" placeholder="your password" name="pass" required>
            <nav class="three-buttons">
                <button type="button" class="close"><i class="f7-icons">xmark</i></button>
                <button type="button" class="copy"><i class="f7-icons">doc_on_clipboard</i></button>
                <button type="submit"><i class="f7-icons">phone_arrow_up_right</i></button>
            </nav>
        </form>
      </div>
      <div id="reset-host" class="hidden modal border" >
        <form>
            <p>Reseting our agent on host <code id="rh-address"> </code>
            (aka <b id="rh-name"></b>) requires your crendetials.
            </p>
            <label for="uname">Username</label>
            <input type="text" placeholder="your system username" name="uname" required>
            <label for="pass">Password</label>
            <input type="password" placeholder="your password" name="pass" required>
            <nav class="two-buttons">
                <button type="button" class="close"><i class="f7-icons">xmark</i></button>
                <button type="submit"><i class="f7-icons">arrow_2_circlepath</i></button>
            </nav>
        </form>
      </div>
      <div id="settings-modal" class="hidden modal border">
          <textarea id="edit-conf" lines="20" cols="40">
          </textarea>
          <footer>using vi to edit the toml-formatted
            <a href="https://github.com/tuzig/terminal7/wiki/Setting-file-format"
               target="_blank">
                 settings
            </a>
          </footer>
          <nav class="three-buttons">
              <button type="button" class="close"><i class="f7-icons">xmark</i>
              <button type="button" class="copy"><i class="f7-icons">doc_on_clipboard</i>
              <button type="button" class="save"><i class="f7-icons">floppy_disk</i>
          </nav>
      </div>
      <div id="edit-host" class="hidden modal border" >
          <form id="edit-host-form">
            <h2>Edit Host</h2>
            <label for="uname">Address</label>
            <input type="text" placeholder="IP or host name" name="hostaddr"
                required="required">
            <label for="uname">Name</label>
            <input type="text" placeholder="Enter Hostname" name="hostname"
                required="required">
            <nav class="four-buttons">
                <button type="button" class="close"><i class="f7-icons">xmark</i></button>
                <button type="button" class="trash"><i class="f7-icons">bin_xmark</i></button>
                <button type="button" class="reset"><i class="f7-icons">arrow_2_circlepath</i></button>
                <button type="submit"><i class="f7-icons">floppy_disk</i></button>
            </nav>
          </form>
      </div>
      <div id="offline" class="hidden modal border non-clearable" >
          <h1>Network is down</h1>
          <p>Terminal 7 will activate on reconnect</p>
      </div>
      <div id="help-gate">
        <map name="help-gate-links">
            <area shape="rect" coords="2000,0,2439,300"  alt="githublink"
                  href="https://github.com/tuzig/terminal7" target="_top"/>
            <area shape="rect" coords="2000,500,2439,640"  alt="server side"
                  href="https://github.com/tuzig/webexec" target="_top"/>
            <area shape="rect" coords="2000,640,2439,770"  alt="change log"
                  href="https://github.com/tuzig/terminal7/blob/master/CHANGELOG.md"
                  target="_top"/>
            <area shape="rect" coords="2000,770,2439,895" alt="community"
                  href="https://discord.gg/DTKN2kGu"
                  target="_top"/>
            <area shape="rect" coords="2000,895,2439,1020"  alt="security"
                  href="https://github.com/tuzig/webexec/blob/master/docs/security.md"
                  target="_top"/>
            <area shape="rect" coords="2000,1020,2439,1145"  alt="support"
                  href="mailto:support@tuzig.com"/>
        </map>
          <img usemap='#help-gate-links' src="img/help-gate.png"
            alt="gate help screen" width="100%"/>
      </div>
      <div id="keys-help" class="hidden modal border" >
          <table>
        <tr> <td>Toggle Fullscreen</td> <td>⌘&nbsp;Z</td> </tr>
        <tr> <td>Move Focus</td> <td>⌘&nbsp;&larr;&uarr;&darr;&rarr;</td> </tr>
        <tr> <td>Search Pane Buffer</td> <td>⌘&nbsp;/</td> </tr>
        <tr class="copy_mode"> <td>Enter Copy Mode</td> <td>⌘&nbsp;[</td> </tr>
        <tr> <td>Bigger Font</td> <td>⌘&nbsp;+</td> </tr>
        <tr> <td>Smaller Font</td> <td>⌘&nbsp;-</td> </tr>
        <tr> <td>Reset Font</td> <td>⌘&nbsp;0</td> </tr>
        <tr> <td>Split Top to Bottom</td> <td>⌘&nbsp;%</td> </tr>
        <tr> <td>Split Right to Left</td> <td>⌘&nbsp;"</td> </tr>
        <tr> <td>Rename Tab</td> <td>⌘&nbsp;,</td> </tr>
        <tr> <td>New Tab</td> <td>⌘&nbsp;T</td> </tr>
        <tr> <td>Toggle Log</td> <td>⌘&nbsp;L</td> </tr>
        <tr> <td>Close Pane</td> <td>⌘&nbsp;D</td> </tr>
        <tr> <td>Reset Connection</td> <td>⌘&nbsp;R</td> </tr>
            </table>
      </div>
  </div>
   
  <div id="navbar" class="bar">
      <nav class="six-buttons">
          <button type="button" id="home-button" class="on"><i class="f7-icons">house</i></button>
          <button type="button" id="log-button"><i class="f7-icons">bubble_right</i></button>
          <button type="button" id="trash-button" class="off"><i class="f7-icons">rectangle_fill_badge_xmark</i></button>
          <button type="button" id="search-button" class="off"><i class="f7-icons">doc_text_search</i></button>
          <button type="button" id="help-button"><i class="f7-icons">question</i></button>
          <button type="button" id="dotfile-button"><i class="f7-icons">gear</i></button>
      </nav>
  </div>

<div id="indicators">
    <i id="connectivity" class="f7-icons">dot_radiowaves_left_right</i>
    <i id="downstream-indicator" class="f7-icons off">arrow_down</i>
    <i id="copy-mode-indicator" class="f7-icons hidden">doc_on_doc</i>
</div>
    <template id="disconnect-template">
       <div class="disconnect modal border temporal"><form>
          <h1></h1>
          <p>Please check the board for details.</p>
          <p>How would you like to proceed?</p>
          <nav class="two-buttons">
              <button type="button" class="close"><i class="f7-icons close">xmark</i></button>
              <button type="submit"><i class="f7-icons reconnect">arrow_2_circlepath</i></button>
          </nav>
       </form></div>
    </template>
    <template id="nosignal-template">
        <div class="modal border temporal"><form>
          <h1><span class="name"></span>: Connection Error</h1>
          <p>If <span class="address"></span> is the wrong address click
              <a href="#" class="edit-link">here</a></p>
          <p>To connect, we need webexec installed and its agent running.
          To install webexec on a *NIX server, please read the
            <a href="https://github.com/tuzig/webexec#webexec">
                installation guide</a>.</p>
          <p>If it is installed we can use SSH and start it for you:
          </p>
          <label for="uname">Username</label>
          <input type="text" placeholder="your system username" name="uname" required>
          <label for="pass">Password</label>
          <input type="password" placeholder="your password" name="pass" required>
          <nav class="three-buttons">
              <button type="button" class="close"><i class="f7-icons">xmark</i></button>
              <button type="button" class="reconnect"><i class="f7-icons">arrow_2_circlepath</i></button>
              <button type="submit"><i class="f7-icons">rays</i></button>
          </nav>
      </form></div>
    </template>
    <!-- every gate creates his own tabbar based on the template below -->
    <template id="gate-template">
        <div class="windows-container">
        </div>
        <div class="hidden search-box border">
            <nav class="tabbar-search">
                <button class="search-close"><i class="f7-icons">xmark</i></button>
                <input type="text" name="search-term">
                <!-- TODO: make url & file search work 
                <a href="#find-url" class="hidden">URL</a>
                <a href="#find-file" class="hidden">File</a>
                -->
                <button class="search-up"><i class="f7-icons">arrowtriangle_up</i></button>
                <button class="search-down"><i class="f7-icons">arrowtriangle_down</i></button>
            </nav>
        </div>

        <template id="divider-template">
            <div class="divider hidden">
                <img width="8" height="44" src="img/divider.png" />
            </div>
        </template>
        <div class="tabbar bar"> 
        <nav class="tabbar-names-nav">
            <button class="add-tab"><i class="f7-icons">plus</i></button>
            <nav class="tabbar-names internal">
            </nav>
            <button class="reset"><i class="f7-icons">arrow_2_circlepath</i></button>
        </nav>
        </div>
    </template>
    <template id="reset-gate-template">
      <div class="reset-gate hidden modal border" >
          <p>What kind of reset whould you like?</p>
          <dl>
             <dt><button class="text-button sizes">Sizes</button></dt>
              <dd>Fitting terminals and refreshing all panes' sizes</dd>
              <dt><button class="text-button channels">Data Channels</button></dt>
              <dd>Replacing all data channels with fresh ones</dd> 
              <dt><button class="text-button all">Connection</button></dt>
              <dd>Drop the peer connection and re-connect</dd>
          </dl>
      </div>
    </template>
</body>
</html>
